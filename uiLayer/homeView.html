<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RTRP Real-Time Chat</title>

  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
  />

  <link rel="stylesheet" href="/design.css" />
</head>

<body>

<div class="shell">

  <!-- LOBBY VIEW -->
  <div id="lobby-view" class="lobby-view">
    <div class="lobby-container">
      <div class="lobby-header">
        <h1>ğŸ  RTRP Chat Rooms</h1>
        <p class="lobby-subtitle">Join or create a room to start chatting</p>
      </div>

      <div class="lobby-actions">
        <button id="createRoomBtn" class="btn-primary">â• Create Room</button>
        <div class="search-box">
          <input type="text" id="searchRooms" placeholder="ğŸ” Search rooms..." />
        </div>
      </div>

      <div class="rooms-grid" id="roomsList"></div>
    </div>
  </div>

  <!-- CREATE ROOM MODAL -->
  <div id="createRoomModal" class="modal">
    <div class="modal-content">
      <h2>Create New Room</h2>
      <button class="modal-close" id="closeCreateModal">âœ•</button>

      <div class="form-group">
        <label>Room Name</label>
        <input type="text" id="newRoomName" placeholder="Enter room name" maxlength="30" />
      </div>

      <div class="form-group">
        <label>Max Users</label>
        <input type="number" id="maxUsers" value="10" min="2" max="100" />
      </div>

      <div class="form-group checkbox-group">
        <input type="checkbox" id="isPrivate" />
        <label for="isPrivate">ğŸ”’ Private Room</label>
      </div>

      <div class="form-group" id="passwordGroup" style="display:none;">
        <label>Password</label>
        <input type="password" id="roomPassword" placeholder="Enter password" />
      </div>

      <button id="confirmCreateRoom" class="btn-primary">Create Room</button>
    </div>
  </div>

  <!-- JOIN ROOM MODAL -->
  <div id="joinRoomModal" class="modal">
    <div class="modal-content">
      <h2>Join Room</h2>
      <button class="modal-close" id="closeJoinModal">âœ•</button>

      <div class="form-group">
        <label>Username</label>
        <input type="text" id="joinUsername" placeholder="Enter your username" maxlength="20" />
      </div>

      <div class="form-group" id="joinPasswordGroup" style="display:none;">
        <label>Password</label>
        <input type="password" id="joinPassword" placeholder="Enter room password" />
      </div>

      <button id="confirmJoinRoom" class="btn-primary">Join Room</button>
    </div>
  </div>

  <!-- CHAT VIEW -->
  <div id="chat-view" class="chat-view" style="display:none;">
    <aside class="sidebar">
      <div class="logo">RTRP</div>
      <button class="side-btn">â­</button>
      <button class="side-btn">âš™ï¸</button>
    </aside>

    <main class="app">
      <header class="chat-header">
        <div class="header-text">
          <div class="title" id="roomTitle">Room Name</div>
          <div class="subtitle" id="roomSubtitle">Users: 0 / 10</div>
        </div>

        <div class="header-actions">
          <button id="infoBtn">â„¹ï¸</button>
          <button id="clearChatBtn">ğŸ§¹</button>
          <button id="leaveRoomBtn">ğŸšª</button>
        </div>
      </header>

      <section id="chat-box" class="chat"></section>

      <div id="typingIndicator" class="typing-indicator"></div>

      <footer class="input-bar">
        <button id="emojiBtn">ğŸ˜€</button>
        <input id="message-input" placeholder="Type a messageâ€¦" />
        <button id="send-btn">â¤</button>
      </footer>
    </main>

    <aside class="info-panel" id="infoPanel">
      <button id="closeInfo" class="close-info">âœ•</button>
      <h3>Room Info</h3>
      <div id="roomInfo"></div>
    </aside>
  </div>

</div>

<script src="/socket.io/socket.io.js"></script>
<script src="/realtime.js"></script>

</body>
</html>